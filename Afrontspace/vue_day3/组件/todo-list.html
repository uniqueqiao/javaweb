<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="../vue.2.6.12.js"></script>
    <style>
        .del{
            text-decoration: line-through;
        }
    </style>
</head>
<body>
    <div id="app">
        <todo-list title="今日任务"></todo-list>
    </div>

    <script>
        let todoList={
            template:`
                <div>
                    <h2>{{title}}</h2>
                    <input type="text" v-model.trim="item">
                    <button type="button" @click="add">添加</button>
                    <ol>
                        <li v-for="(o,i) in items":key="o.text">
                            <input type="checkbox" v-model="o.done">
                            <span :class="{'del':o.done}">{{o.text}}(于{{o.date}})</span>
                            <button type="button" @click="del(i)">delete</button>
                        </li>
                    </ol>
                </div>
                `,
            data(){
                return {
                    item:"",
                    items:[]
                }
            },
            methods:{
                add(){
                    this.items.push({
                        text:this.item,
                        date:new Date().toLocaleString(),
                        done:false
                    })

                },
                del(index){
                    this.items.splice(index,1)
                }
            },
            props:["title"],
        }
        new Vue({
            el:"#app",

            components:{
                "todo-list":todoList
            }
        })

    </script>
</body>
</html>